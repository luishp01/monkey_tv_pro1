<!DOCTYPE html>
<html>
<head>
    <title>Prueba Mínima de Chromecast</title>
    <script type="text/javascript" src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"></script>
</head>
<body>
    <h1>Prueba de Chromecast</h1>
    <p>Si ves el ícono de Cast aquí abajo, la configuración de tu ID es correcta.</p>
    
    <google-cast-launcher></google-cast-launcher>

    <script>
        window['__onGCastApiAvailable'] = function(isAvailable) {
            if (isAvailable) {
                console.log("API de Cast disponible en la página de prueba.");
                initializeCastApi();
            } else {
                console.log("API de Cast NO disponible en la página de prueba.");
            }
        };

        function initializeCastApi() {
            cast.framework.CastContext.getInstance().setOptions({
                receiverApplicationId: 'D066AED3',
                autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED
            });
            console.log("Contexto de Cast inicializado en la página de prueba.");
        }
    </script>
</body>
</html>
